(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,a){e.exports=a(237)},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){e.exports=a.p+"static/media/clear.441d8611.svg"},143:function(e,t,a){e.exports=a.p+"static/media/delete.79bd20bf.jpg"},144:function(e,t,a){e.exports=a.p+"static/media/main.2ca7d496.jpg"},145:function(e,t,a){},203:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"startFechingData",function(){return S}),a.d(n,"deleteFilm",function(){return j}),a.d(n,"changeDeleteStatus",function(){return F}),a.d(n,"addFileFilms",function(){return T});var r={};a.r(r),a.d(r,"searchByName",function(){return R}),a.d(r,"searchByActor",function(){return k}),a.d(r,"changeSearchMethod",function(){return M}),a.d(r,"inputChangesToStore",function(){return H});var c={};a.r(c),a.d(c,"sortByAz",function(){return B}),a.d(c,"sortByZa",function(){return G});var o={};a.r(o),a.d(o,"changeFilmName",function(){return te}),a.d(o,"changeFilmYear",function(){return ae}),a.d(o,"changeFilmFormat",function(){return ne}),a.d(o,"changeFilmActors",function(){return re}),a.d(o,"addFilm",function(){return ce}),a.d(o,"validateInputs",function(){return oe});var u=a(1),i=a.n(u),l=a(6),s=a.n(l),m=a(23),d=(a(140),a(63)),f=a(64),p=a(71),h=a(65),E=a(72),v=a(240),b="START_FETCHING_FILMS",_="ADD_FILM",y="DELETE_FILM",O="CHANGE_DELETE_STATUS",g="DELETE_FILM_FROM_STORE",A="ADD_FILE_FILMS",N="FILMS_TO_STORE",S=function(){return{type:b}},j=function(e){return{type:y,id:e}},F=function(e){return{type:O,payload:e}},T=function(e){return{type:A,target:e}},w=a(239),C=(a(141),Object(m.b)(null,n)(function(e){var t=e.title,n=e.id,r=e.deleteFilm,c=e.deleteStatus,o=e.changeDeleteStatus;return i.a.createElement("div",{className:"film-item-container"},i.a.createElement("div",{className:"delete-icon-container"},i.a.createElement("img",{alt:"delete-icon",onClick:function(){return function(e){o({id:e,status:"waiting"}),r(e)}(n)},className:"delete-film",src:a(142)})),i.a.createElement(w.a,{to:"/WL-Deploy/cartoons/".concat(n)},i.a.createElement("img",{className:"film-image",alt:"placeholder-img",src:a("waiting"===c?143:144)}),i.a.createElement("h4",{className:"film-title"},"waiting"===c?"waiting":t)))})),L=a(11),D=a(241),x=a(242),I=a(73),R=function(e){return{type:"SEARCH_BY_NAME",string:e}},k=function(e){return{type:"SEARCH_BY_ACTOR",string:e}},M=function(e){return{type:"CHANGE_SEARCH_METHOD",method:e}},H=function(e){return{type:"CHANGE_SEARCH_INPUT",value:e}},B=function(){return{type:"SORT_BY_AZ",status:"sorted_az"}},G=function(){return{type:"SORT_BY_ZA",status:"sorted_za"}},Y=(a(145),Object(L.a)({},r,c)),W=Object(m.b)(function(e){return{method:e.search.method,inputValue:e.search.searchString,sortStatus:e.sortStatus.status}},Y)(function(e){var t=D.a.Option,a=e.sortStatus,n=e.method,r=e.inputValue,c=e.uploadFile,o=e.searchByName,u=e.searchByActor,l=e.changeSearchMethod,s=e.inputChangesToStore,m=e.sortByAz,d=e.sortByZa;return i.a.createElement("div",{className:"instrument-panel"},i.a.createElement("input",{className:"upload-input",type:"file",onChange:function(e){return c(e.target)}}),i.a.createElement(x.a,{value:r,className:"search-input",placeholder:"Search film",onChange:function(e){return t=e.target.value,s(t),void("by_name"===n?o(t):"by_actor"===n&&u(t));var t}}),i.a.createElement(D.a,{className:"select-method",onSelect:function(e){return l(e)},defaultValue:"by_name"},i.a.createElement(t,{value:"by_name"},"by name"),i.a.createElement(t,{value:"by_actor"},"by actor")),i.a.createElement(I.a,{htmlType:"button",id:"sort-button",onClick:function(){"not_sorted"===a||"sorted_za"===a?m():"sorted_az"===a&&d()}},"not_sorted"===a||"sorted_za"===a?"Sort A-Z":"Sort Z-A"))}),P=a(0),V=a.n(P),Z=(a(203),function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.startFechingData()}},{key:"render",value:function(){var e=this.props,t=e.films,a=e.addFileFilms;return i.a.createElement("div",{className:"main-screen-container"},i.a.createElement(W,{uploadFile:function(e){a(e)}}),0===t.length?i.a.createElement(v.a,{className:"film-spin"}):i.a.createElement("div",{className:"film-container"},t.filter(function(e){return!0===e.visible}).map(function(e,t){return i.a.createElement(C,{deleteStatus:e.deleteStatus,key:t,id:e._id,title:e.name})})))}}]),t}(u.Component));Z.propsTypes={films:V.a.array,addFileFilms:V.a.func};var z=Object(m.b)(function(e){return{films:e.mainReducer}},n)(Z),U=a(243),J=a(245),X=a(244),q=(a(212),function(){return i.a.createElement("div",{className:"menu-container"},i.a.createElement("div",{className:"logo"}," WebbyLab Test"),i.a.createElement("ul",{className:"menu-list"},i.a.createElement("li",null,i.a.createElement(w.a,{className:"router-link",to:"/WL-Deploy/"},"All films")),i.a.createElement("li",null,i.a.createElement(w.a,{className:"router-link",to:"/WL-Deploy/add"},"Add film")),i.a.createElement("li",null,i.a.createElement(w.a,{className:"router-link",to:"/WL-Deploy/pages/lorem"},"Lorem")),i.a.createElement("li",null,i.a.createElement(w.a,{className:"router-link",to:"/WL-Deploy/pages/ipsum"},"Ipsum")),i.a.createElement("li",null,i.a.createElement(w.a,{className:"router-link",to:"/WL-Deploy/pages/dolor"},"Dolor"))))}),$=(a(213),function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.startFechingData()}},{key:"render",value:function(){var e=this.props,t=e.itemId,a=e.data;return i.a.createElement("div",{className:"cartoon-details-container"},0===a.length?i.a.createElement(v.a,null):a.filter(function(e){return e._id===t}).map(function(e,t){return i.a.createElement("div",{key:t,className:"cartoon-details-group"},i.a.createElement("h3",null,e.name),i.a.createElement("p",null," Year: ",e.year),i.a.createElement("p",null," Format: ",e.format),i.a.createElement("div",{className:"actors-container"},"Actors: ",e.actors.join(", "),"."))}))}}]),t}(u.Component)),K=Object(m.b)(function(e){return{data:e.mainReducer}},n)($),Q=function(e){var t=e.currentPage;return i.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},"this is mock page ".concat(t))},ee=a(246),te=function(e){return{type:"CHANGE_FILM_NAME",name:e}},ae=function(e){return{type:"CHANGE_FILM_YEAR",year:e}},ne=function(e){return{type:"CHANGE_FILM_FORMAT",format:e}},re=function(e){return{type:"CHANGE_FILM_ACTORS",actors:e}},ce=function(e){return{type:_,filmData:e}},oe=function(e){return{type:"VALIDATE_INPUTS",result:e}},ue=(a(214),Object(m.b)(function(e){return{name:e.form.name,year:e.form.year,format:e.form.format,actors:e.form.actors,validation:e.form.valid}},o)(function(e){var t=D.a.Option,a=x.a.TextArea,n=e.addFilm,r=e.validation,c=e.validateInputs,o=e.changeFilmName,u=e.changeFilmYear,l=e.changeFilmFormat,s=e.changeFilmActors,m=e.name,d=e.year,f=e.format,p=e.actors,h=function(){""===m||""===d||""===f||""===p?c(!1):(c(!0),function(){var e=p.split(","),t=Number(d);n({name:m,year:t,actors:e,format:f})}())};return i.a.createElement("div",{className:"add-form-container"},i.a.createElement("div",{className:"add-form-group"},i.a.createElement(x.a,{className:"add-input",value:m,placeholder:"Film name",onChange:function(e){return o(e.target.value)}}),i.a.createElement(x.a,{className:"add-input",value:d,placeholder:"Year",onChange:function(e){return u(e.target.value)}}),i.a.createElement(D.a,{className:"add-select",placeholder:"Format",onSelect:function(e){return l(e)}},i.a.createElement(t,{value:"DVD"},"DVD"),i.a.createElement(t,{value:"Blu-Ray"},"Blu-Ray"),i.a.createElement(t,{value:"VHS"},"VHS")),i.a.createElement(a,{className:"add-actors-area",value:p,rows:4,placeholder:"Actors",onChange:function(e){return s(e.target.value)}}),i.a.createElement(I.a,{className:"add-button",type:"primary",onClick:function(){return h()}},"Add film")),!1===r?i.a.createElement(ee.a,{message:"All fields required",type:"error",showIcon:!0}):null)})),ie=function(){return i.a.createElement(U.a,null,i.a.createElement("div",{className:"App"},i.a.createElement(q,null),i.a.createElement(J.a,null,i.a.createElement(X.a,{path:"/WL-Deploy/",component:z,exact:!0}),i.a.createElement(X.a,{path:"/WL-Deploy/cartoons/:id",render:function(e){var t=e.match.params.id;return i.a.createElement(K,{itemId:t})}}),i.a.createElement(X.a,{path:"/WL-Deploy/pages/:current",render:function(e){var t=e.match.params.current;return i.a.createElement(Q,{currentPage:t})}}),i.a.createElement(X.a,{path:"/WL-Deploy/add",component:ue}))))},le=a(31),se=a(49),me={name:"",year:"",format:"",actors:"",valid:null},de={searchString:"",method:"by_name"},fe={status:"not_sorted"},pe=a(129),he=a(12),Ee=a.n(he),ve=a(15),be=a(36),_e=a.n(be),ye=Ee.a.mark(Ae),Oe=Ee.a.mark(Ne);function ge(){return _e()({url:"https://obscure-depths-62229.herokuapp.com/api/v1/films",method:"GET"})}function Ae(){var e,t;return Ee.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(ve.b)(ge);case 2:return e=a.sent,t=e.data.map(function(e){return Object(L.a)({},e,{visible:!0,deleteStatus:"no-delete"})}),a.next=6,Object(ve.c)({type:N,films:t});case 6:case"end":return a.stop()}},ye)}function Ne(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.d)(b,Ae);case 2:case"end":return e.stop()}},Oe)}var Se=Ee.a.mark(Te),je=Ee.a.mark(we);function Fe(e){return _e()({url:"https://obscure-depths-62229.herokuapp.com/api/v1/film",method:"POST",data:e})}function Te(e){return Ee.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ve.b)(Fe,e.filmData);case 2:return t.next=4,Object(ve.c)({type:"START_FETCHING_FILMS"});case 4:case"end":return t.stop()}},Se)}function we(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.d)(_,Te);case 2:case"end":return e.stop()}},je)}var Ce=Ee.a.mark(xe),Le=Ee.a.mark(Ie);function De(e){return _e()({url:"https://obscure-depths-62229.herokuapp.com/api/v1/film/".concat(e),method:"DELETE"})}function xe(e){var t;return Ee.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ve.b)(De,e.id);case 3:return a.next=5,Object(ve.c)({type:g,id:e.id});case 5:a.next=12;break;case 7:return a.prev=7,a.t0=a.catch(0),t={id:e.id,status:"no_delete"},a.next=12,Object(ve.c)({type:O,payload:t});case 12:case"end":return a.stop()}},Ce,null,[[0,7]])}function Ie(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.d)(y,xe);case 2:case"end":return e.stop()}},Le)}var Re=Ee.a.mark(He),ke=Ee.a.mark(Be);function Me(e){return _e()({url:"https://obscure-depths-62229.herokuapp.com/api/v1/films/fromFile",method:"POST",data:e.files[0],headers:{"Content-Type":"text/plain"}}).then(function(t){return e.value="",Promise.resolve(t)})}function He(e){return Ee.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ve.b)(Me,e.target);case 2:return t.next=4,Object(ve.c)({type:"START_FETCHING_FILMS"});case 4:case"end":return t.stop()}},Re)}function Be(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.d)(A,He);case 2:case"end":return e.stop()}},ke)}var Ge=Ee.a.mark(Ye);function Ye(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.a)([Ne(),we(),Ie(),Be()]);case 2:case"end":return e.stop()}},Ge)}var We=Object(le.c)({mainReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(se.a)(t.films);case O:return e.map(function(e){return e._id===t.payload.id?Object(L.a)({},e,{deleteStatus:t.payload.status}):Object(L.a)({},e)});case g:var a=e.findIndex(function(e){return e._id===t.id});return[].concat(Object(se.a)(e.slice(0,a)),Object(se.a)(e.slice(a+1)));case"SEARCH_BY_ACTOR":var n=e.map(function(e){return-1===e.actors.join(" ").toLowerCase().indexOf(t.string.toLowerCase())?Object(L.a)({},e,{visible:!1}):Object(L.a)({},e,{visible:!0})});return Object(se.a)(n);case"SEARCH_BY_NAME":var r=e.map(function(e){return-1===e.name.toLowerCase().indexOf(t.string.toLowerCase())?Object(L.a)({},e,{visible:!1}):Object(L.a)({},e,{visible:!0})});return Object(se.a)(r);case"SORT_BY_AZ":return e.slice().sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0});case"SORT_BY_ZA":return e.slice().sort(function(e,t){return e.name<t.name?1:e.name>t.name?-1:0});default:return e}},form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_FILM_NAME":return Object(L.a)({},e,{name:t.name});case"CHANGE_FILM_YEAR":return Object(L.a)({},e,{year:t.year});case"CHANGE_FILM_FORMAT":return Object(L.a)({},e,{format:t.format});case"CHANGE_FILM_ACTORS":return Object(L.a)({},e,{actors:t.actors});case"VALIDATE_INPUTS":return Object(L.a)({},e,{valid:t.result});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SEARCH_METHOD":return Object(L.a)({},e,{method:t.method});case"CHANGE_SEARCH_INPUT":return Object(L.a)({},e,{searchString:t.value});default:return e}},sortStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SORT_BY_ZA":case"SORT_BY_AZ":return Object(L.a)({},e,{status:t.status});default:return e}}}),Pe=Object(pe.a)(),Ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le.d,Ze=Object(le.e)(We,{},Ve(Object(le.a)(Pe)));Pe.run(Ye);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(236);s.a.render(i.a.createElement(function(){return i.a.createElement(m.a,{store:Ze},i.a.createElement(ie,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[131,1,2]]]);
//# sourceMappingURL=main.938ea945.chunk.js.map