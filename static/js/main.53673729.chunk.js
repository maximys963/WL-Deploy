(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,a){e.exports=a(239)},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){e.exports=a.p+"static/media/clear.441d8611.svg"},145:function(e,t,a){e.exports=a.p+"static/media/delete.79bd20bf.jpg"},146:function(e,t,a){e.exports=a.p+"static/media/main.2ca7d496.jpg"},147:function(e,t,a){},205:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"startFechingData",function(){return S}),a.d(n,"deleteFilm",function(){return j}),a.d(n,"changeDeleteStatus",function(){return L}),a.d(n,"addFileFilms",function(){return T});var r={};a.r(r),a.d(r,"searchByName",function(){return H}),a.d(r,"searchByActor",function(){return M}),a.d(r,"changeSearchMethod",function(){return B}),a.d(r,"inputChangesToStore",function(){return Y});var c={};a.r(c),a.d(c,"sortByAz",function(){return G}),a.d(c,"sortByZa",function(){return P});var o={};a.r(o),a.d(o,"changeFilmName",function(){return ce}),a.d(o,"changeFilmYear",function(){return oe}),a.d(o,"changeFilmFormat",function(){return ie}),a.d(o,"changeFilmActors",function(){return ue}),a.d(o,"addFilm",function(){return se}),a.d(o,"changeAddStatus",function(){return le}),a.d(o,"validateInputs",function(){return me});var i={};a.r(i),a.d(i,"nameValidation",function(){return de}),a.d(i,"yearValidation",function(){return fe}),a.d(i,"actorsValidation",function(){return pe});var u=a(1),s=a.n(u),l=a(5),m=a.n(l),d=a(26),f=(a(142),a(50)),p=a(51),h=a(54),v=a(52),E=a(55),y=a(245),b=a(242),O="START_FETCHING_FILMS",A="ADD_FILM",_="DELETE_FILM",g="CHANGE_DELETE_STATUS",C="DELETE_FILM_FROM_STORE",w="ADD_FILE_FILMS",N="FILMS_TO_STORE",S=function(){return{type:O}},j=function(e){return{type:_,id:e}},L=function(e){return{type:g,payload:e}},T=function(e){return{type:w,target:e}},V=a(241),F=(a(143),Object(d.b)(null,n)(function(e){var t=e.title,n=e.id,r=e.deleteFilm,c=e.deleteStatus,o=e.changeDeleteStatus,i=e.showDeleteConfirm;return s.a.createElement("div",{className:"film-item-container"},s.a.createElement("div",{className:"delete-icon-container"},s.a.createElement("img",{alt:"delete-icon",onClick:function(){return i(function(){return function(e){o({id:e,status:"waiting"}),r(e)}(n)})},className:"delete-film",src:a(144)})),s.a.createElement(V.a,{to:"/WL-Deploy/cartoons/".concat(n)},s.a.createElement("img",{className:"film-image",alt:"placeholder-img",src:a("waiting"===c?145:146)}),s.a.createElement("h4",{className:"film-title"},"waiting"===c?"waiting":t)))})),D=a(12),k=a(243),I=a(246),x=a(244),R=a(34),H=function(e){return{type:"SEARCH_BY_NAME",string:e}},M=function(e){return{type:"SEARCH_BY_ACTOR",string:e}},B=function(e){return{type:"CHANGE_SEARCH_METHOD",method:e}},Y=function(e){return{type:"CHANGE_SEARCH_INPUT",value:e}},G=function(){return{type:"SORT_BY_AZ",status:"sorted_az"}},P=function(){return{type:"SORT_BY_ZA",status:"sorted_za"}},W=(a(147),Object(D.a)({},r,c,n)),Z=Object(d.b)(function(e){return{method:e.search.method,inputValue:e.search.searchString,sortStatus:e.sortStatus.status}},W)(function(e){var t=k.a.Option,a=e.sortStatus,n=e.addFileFilms,r=e.method,c=e.inputValue,o=e.searchByName,i=e.searchByActor,u=e.changeSearchMethod,l=e.inputChangesToStore,m=e.sortByAz,d=e.sortByZa;return s.a.createElement("div",{className:"instrument-panel"},s.a.createElement("input",{className:"upload-input",type:"file",onChange:function(e){return function(e){var t=e.files[0].name;"txt"!==t.slice(t.length-3,t.length)?(I.a.error("This is not appropriate file type "),e.value=""):n(e)}(e.target)}}),s.a.createElement(x.a,{value:c,className:"search-input",placeholder:"Search film",onChange:function(e){return t=e.target.value,l(t),void("by_name"===r?o(t):"by_actor"===r&&i(t));var t}}),s.a.createElement(k.a,{className:"select-method",onSelect:function(e){return u(e)},defaultValue:"by_name"},s.a.createElement(t,{value:"by_name"},"by name"),s.a.createElement(t,{value:"by_actor"},"by actor")),s.a.createElement(R.a,{htmlType:"button",id:"sort-button",onClick:function(){"not_sorted"===a||"sorted_za"===a?m():"sorted_az"===a&&d()}},"not_sorted"===a||"sorted_za"===a?"Sort A-Z":"Sort Z-A"))}),U=a(0),z=a.n(U),q=(a(205),function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).showDeleteConfirm=function(e){(0,y.a.confirm)({title:"Are you sure delete this film?",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){e()},onCancel:function(){console.log("Cancel")}})},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.startFechingData()}},{key:"render",value:function(){var e=this,t=this.props.films;return s.a.createElement("div",{className:"main-screen-container"},s.a.createElement(Z,null),0===t.length?s.a.createElement(b.a,{className:"film-spin"}):s.a.createElement("div",{className:"film-container"},t.filter(function(e){return!0===e.visible}).map(function(t,a){return s.a.createElement(F,{showDeleteConfirm:e.showDeleteConfirm,deleteStatus:t.deleteStatus,key:a,id:t._id,title:t.name})})))}}]),t}(u.Component));q.propsTypes={films:z.a.array,addFileFilms:z.a.func};var J=Object(d.b)(function(e){return{films:e.mainReducer}},n)(q),X=a(247),$=a(249),K=a(250),Q=(a(214),function(){return s.a.createElement("div",{className:"menu-container"},s.a.createElement("div",{className:"logo"}," WebbyLab Test"),s.a.createElement("ul",{className:"menu-list"},s.a.createElement("li",null,s.a.createElement(V.a,{className:"router-link",to:"/WL-Deploy/"},"All films")),s.a.createElement("li",null,s.a.createElement(V.a,{className:"router-link",to:"/WL-Deploy/add"},"Add film"))))}),ee=(a(215),function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.startFechingData()}},{key:"render",value:function(){var e=this.props,t=e.itemId,a=e.data;return s.a.createElement("div",{className:"cartoon-details-container"},0===a.length?s.a.createElement(b.a,null):a.filter(function(e){return e._id===t}).map(function(e,t){return s.a.createElement("div",{key:t,className:"cartoon-details-group"},s.a.createElement("h3",null,e.name),s.a.createElement("p",null," Year: ",e.year),s.a.createElement("p",null," Format: ",e.format),s.a.createElement("div",{className:"actors-container"},"Actors: ",e.actors.join(", "),"."))}))}}]),t}(u.Component)),te=Object(d.b)(function(e){return{data:e.mainReducer}},n)(ee),ae=function(e){var t=e.currentPage;return s.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},"this is mock page ".concat(t))},ne=a(248),re="CHANGE_ADD_STATUS",ce=function(e){return{type:"CHANGE_FILM_NAME",name:e}},oe=function(e){return{type:"CHANGE_FILM_YEAR",year:e}},ie=function(e){return{type:"CHANGE_FILM_FORMAT",format:e}},ue=function(e){return{type:"CHANGE_FILM_ACTORS",actors:e}},se=function(e){return{type:A,filmData:e}},le=function(e){return{type:re,status:e}},me=function(e){return{type:"VALIDATE_INPUTS",result:e}},de=function(e){return{type:"NAME_VALIDATION",bool:e}},fe=function(e){return{type:"YEAR_VALIDATION",bool:e}},pe=function(e){return{type:"ACTORS_VALIDATION",bool:e}},he=(a(216),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).updateAnswer=function(){var e=a.props.addingStatus;"success"===e?I.a.success("Film successfully added",1):"failure"===e&&I.a.error("Film was not added",1)},a.formValidation=function(){var e=a.props,t=e.changeFilmActors,n=e.changeFilmName,r=e.changeFilmYear,c=e.nameValid,o=e.yearValid,i=e.actorsValid;a.checkYear(),a.checkName(),a.checkActors(),c&&o&&i&&(a.prepareDataToRequest(),t(""),n(""),r(""))},a.prepareDataToRequest=function(){var e=a.props,t=e.actors,n=e.year,r=e.name,c=e.format,o=e.addFilm,i=t.split(",");o({name:r,year:Number(n),actors:i,format:c})},a.checkYear=function(){var e=a.props,t=e.year,n=e.yearValidation;/189[5-9]|19\d\d|200\d|201\d|2020$/.test(t)?n(!0):n(!1)},a.checkName=function(){var e=a.props,t=e.name,n=e.nameValidation;n(""!==t)},a.checkActors=function(){var e=a.props,t=e.actors,n=e.actorsValidation;n(""!==t)},a.responsiveHeightCrutch=function(){var e=a.props,t=e.nameValid,n=e.yearValid,r=e.actorsValid,c=0;return[t,n,r].forEach(function(e){!1===e&&c++}),320+20*c},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.addingStatus,n=t.changeAddStatus,r=t.nameValid,c=t.yearValid,o=t.actorsValid;a!==e.addingStatus&&(this.updateAnswer(),n("no-status")),r===e.nameValid&&c===e.yearValid&&o===e.actorsValid||this.responsiveHeightCrutch()}},{key:"render",value:function(){var e=this,t=k.a.Option,a=x.a.TextArea,n=this.props,r=n.validation,c=n.changeFilmFormat,o=n.changeFilmActors,i=n.changeFilmName,u=n.changeFilmYear,l=n.name,m=n.nameValid,d=n.year,f=n.yearValid,p=n.actors,h=n.actorsValid,v=n.yearValidation,E=n.nameValidation,y=n.actorsValidation;return s.a.createElement("div",{className:"add-form-container"},s.a.createElement("div",{className:"add-form-group",style:{height:this.responsiveHeightCrutch()}},s.a.createElement(x.a,{className:"add-input",value:l,placeholder:"Film name",onBlur:function(){return e.checkName()},onFocus:function(){return E(null)},onChange:function(e){return i(e.target.value)}}),!1===m?s.a.createElement("div",{className:"validation-error"}," name can't be empty "):null,s.a.createElement(x.a,{className:"add-input",value:d,placeholder:"Year",onBlur:function(){e.checkYear()},onFocus:function(){v(null)},onChange:function(e){return u(e.target.value)}}),!1===f?s.a.createElement("div",{className:"validation-error"},"year must be from number from 1895 to 2020 "):null,s.a.createElement(k.a,{className:"add-select",placeholder:"Format",defaultValue:"DVD",onSelect:function(e){return c(e)}},s.a.createElement(t,{value:"DVD"},"DVD"),s.a.createElement(t,{value:"Blu-Ray"},"Blu-Ray"),s.a.createElement(t,{value:"VHS"},"VHS")),s.a.createElement(a,{className:"add-actors-area",value:p,rows:4,placeholder:"Actors",onFocus:function(){return y(null)},onBlur:function(){return e.checkActors()},onChange:function(e){return o(e.target.value)}}),!1===h?s.a.createElement("div",{className:"validation-error"},"actors can't me empty"):null,s.a.createElement(R.a,{className:"add-button",type:"primary",onClick:function(){return e.formValidation()}},"Add film")),!1===r?s.a.createElement(ne.a,{message:"All fields required",type:"error",showIcon:!0}):null)}}]),t}(u.Component)),ve=Object(D.a)({},o,i),Ee=Object(d.b)(function(e){return{name:e.form.name,nameValid:e.form.nameValid,year:e.form.year,yearValid:e.form.yearValid,format:e.form.format,actors:e.form.actors,actorsValid:e.form.actorsValid,validation:e.form.valid,addingStatus:e.form.addingStatus}},ve)(he),ye=function(){return s.a.createElement(X.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(Q,null),s.a.createElement($.a,null,s.a.createElement(K.a,{path:"/WL-Deploy/",component:J,exact:!0}),s.a.createElement(K.a,{path:"/WL-Deploy/cartoons/:id",render:function(e){var t=e.match.params.id;return s.a.createElement(te,{itemId:t})}}),s.a.createElement(K.a,{path:"/WL-Deploy/pages/:current",render:function(e){var t=e.match.params.current;return s.a.createElement(ae,{currentPage:t})}}),s.a.createElement(K.a,{path:"/WL-Deploy/add",component:Ee}),s.a.createElement(K.a,{component:J}))))},be=a(32),Oe=a(58),Ae={addingStatus:"no-status",name:"",year:"",format:"DVD",actors:"",formValidated:null,nameValid:null,yearValid:null,actorsValid:null,formatValid:null},_e={searchString:"",method:"by_name"},ge={status:"not_sorted"},Ce=a(131),we=a(14),Ne=a.n(we),Se=a(16),je=a(38),Le=a.n(je),Te=Ne.a.mark(De),Ve=Ne.a.mark(ke);function Fe(){return Le()({url:"https://obscure-depths-62229.herokuapp.com/api/v1/films",method:"GET"})}function De(){var e,t;return Ne.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Se.b)(Fe);case 2:return e=a.sent,t=e.data.map(function(e){return Object(D.a)({},e,{visible:!0,deleteStatus:"no-delete"})}),a.next=6,Object(Se.c)({type:N,films:t});case 6:case"end":return a.stop()}},Te)}function ke(){return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Se.d)(O,De);case 2:case"end":return e.stop()}},Ve)}var Ie=Ne.a.mark(He),xe=Ne.a.mark(Me);function Re(e){return Le()({url:"https://obscure-depths-62229.herokuapp.com/api/v1/film",method:"POST",data:e})}function He(e){return Ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Se.b)(Re,e.filmData);case 3:return t.next=5,Object(Se.c)({type:re,status:"success"});case 5:return t.next=7,Object(Se.c)({type:O});case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(Se.c)({type:re,status:"failure"});case 13:case"end":return t.stop()}},Ie,null,[[0,9]])}function Me(){return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Se.d)(A,He);case 2:case"end":return e.stop()}},xe)}var Be=Ne.a.mark(Pe),Ye=Ne.a.mark(We);function Ge(e){return Le()({url:"https://obscure-depths-62229.herokuapp.com/api/v1/film/".concat(e),method:"DELETE"})}function Pe(e){var t;return Ne.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Se.b)(Ge,e.id);case 3:return a.next=5,Object(Se.c)({type:C,id:e.id});case 5:a.next=12;break;case 7:return a.prev=7,a.t0=a.catch(0),t={id:e.id,status:"no_delete"},a.next=12,Object(Se.c)({type:g,payload:t});case 12:case"end":return a.stop()}},Be,null,[[0,7]])}function We(){return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Se.d)(_,Pe);case 2:case"end":return e.stop()}},Ye)}var Ze=Ne.a.mark(qe),Ue=Ne.a.mark(Je);function ze(e){return Le()({url:"https://obscure-depths-62229.herokuapp.com/api/v1/films/fromFile",method:"POST",data:e.files[0],headers:{"Content-Type":"text/plain"}}).then(function(t){return e.value="",Promise.resolve(t)})}function qe(e){return Ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Se.b)(ze,e.target);case 2:return t.next=4,Object(Se.c)({type:"START_FETCHING_FILMS"});case 4:case"end":return t.stop()}},Ze)}function Je(){return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Se.d)(w,qe);case 2:case"end":return e.stop()}},Ue)}var Xe=Ne.a.mark($e);function $e(){return Ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Se.a)([ke(),Me(),We(),Je()]);case 2:case"end":return e.stop()}},Xe)}var Ke=Object(be.c)({mainReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(Oe.a)(t.films);case g:return e.map(function(e){return e._id===t.payload.id?Object(D.a)({},e,{deleteStatus:t.payload.status}):Object(D.a)({},e)});case C:var a=e.findIndex(function(e){return e._id===t.id});return[].concat(Object(Oe.a)(e.slice(0,a)),Object(Oe.a)(e.slice(a+1)));case"SEARCH_BY_ACTOR":var n=e.map(function(e){return e.actors.some(function(e){return-1!==e.toLowerCase().indexOf(t.string.toLowerCase())})?Object(D.a)({},e,{visible:!0}):Object(D.a)({},e,{visible:!1})});return Object(Oe.a)(n);case"SEARCH_BY_NAME":var r=e.map(function(e){return-1===e.name.toLowerCase().indexOf(t.string.toLowerCase())?Object(D.a)({},e,{visible:!1}):Object(D.a)({},e,{visible:!0})});return Object(Oe.a)(r);case"SORT_BY_AZ":return e.slice().sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}).sort(function(e,t){return e.name[0].toLowerCase()===t.name[0].toLowerCase()&&e.name[0].toLowerCase()!==e.name[0]&&t.name[0].toLowerCase()===t.name[0]?-1:e.name[0].toLowerCase()===t.name[0].toLowerCase()&&e.name[0].toLowerCase()===e.name[0]&&t.name[0].toLowerCase()!==t.name[0]?1:0});case"SORT_BY_ZA":return e.slice().sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?1:e.name.toLowerCase()>t.name.toLowerCase()?-1:0}).sort(function(e,t){return e.name[0].toLowerCase()===t.name[0].toLowerCase()&&e.name[0].toLowerCase()!==e.name[0]&&t.name[0].toLowerCase()===t.name[0]?-1:e.name[0].toLowerCase()===t.name[0].toLowerCase()&&e.name[0].toLowerCase()===e.name[0]&&t.name[0].toLowerCase()!==t.name[0]?1:0});default:return e}},form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_FILM_NAME":return Object(D.a)({},e,{name:t.name});case"CHANGE_FILM_YEAR":return Object(D.a)({},e,{year:t.year});case"CHANGE_FILM_FORMAT":return Object(D.a)({},e,{format:t.format});case"CHANGE_FILM_ACTORS":return Object(D.a)({},e,{actors:t.actors});case"VALIDATE_INPUTS":return Object(D.a)({},e,{valid:t.result});case"YEAR_VALIDATION":return Object(D.a)({},e,{yearValid:t.bool});case"NAME_VALIDATION":return Object(D.a)({},e,{nameValid:t.bool});case"ACTORS_VALIDATION":return Object(D.a)({},e,{actorsValid:t.bool});case re:return Object(D.a)({},e,{addingStatus:t.status});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SEARCH_METHOD":return Object(D.a)({},e,{method:t.method});case"CHANGE_SEARCH_INPUT":return Object(D.a)({},e,{searchString:t.value});default:return e}},sortStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SORT_BY_ZA":case"SORT_BY_AZ":return Object(D.a)({},e,{status:t.status});default:return e}}}),Qe=Object(Ce.a)(),et=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||be.d,tt=Object(be.e)(Ke,{},et(Object(be.a)(Qe)));Qe.run($e);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(238);m.a.render(s.a.createElement(function(){return s.a.createElement(d.a,{store:tt},s.a.createElement(ye,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[133,1,2]]]);
//# sourceMappingURL=main.53673729.chunk.js.map